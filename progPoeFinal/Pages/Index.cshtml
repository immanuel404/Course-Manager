@page
@model IndexModel
@{
    ViewData["Title"] = "Register / Login";
}
<h1>@ViewData["Title"]</h1><br/><br/>


@*OUTPUT MESSAGE*@
@if (Model.Message.Length > 0)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <string>@Model.Message</string>
        <button type="button" class='btn-close' data-bs-dismiss='alert' aria-label='Close'></button>
    </div>
}


<form method="Post">
    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Username:</label>
        <div class="col-sm-5">
            <input type="text" class="form-control" name="username"/>
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Password:</label>
        <div class="col-sm-5">
            <input type="password" class="form-control" name="password"/>
        </div>
    </div>
    <div class="row mb-3">
        <div class="offset-sm-3 col-sm-5 d-grid">
            <button type="submit" class="btn btn-primary" asp-page-handler="Register">Register</button>
            <br/>
           <button type="submit" class="btn btn-primary" asp-page-handler="Login">Login</button>
        </div>
    </div>
</form>

@*IF LOGIN SUCCESSFUL*@
@if (Model.willRedirect.Length > 0)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <a class="btn btn-primary bt-sm" href="/Modules/Index?id=@Model.willRedirect">Login Successful, Go to Main Page</a>
    </div>
}